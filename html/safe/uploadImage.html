<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>Document</title>
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
		<!--<link rel="stylesheet" href="../../libs/bootstrap.min.css">-->
		<link rel="stylesheet" href="../../assets/mui/css/mui.min.css">
		<!--<link rel="stylesheet" href="../../css/app.css">-->
		<link rel="stylesheet" href="../../css/base.css">
		<link rel="stylesheet" href="../../css/upload.css" />
		<link rel="stylesheet" href="../../css/main.css">
		<link rel="stylesheet" href="../../css/mui.picker.min.css">
		<link rel="stylesheet" href="../../css/mui.poppicker.css">
		<link rel="stylesheet" type="text/css" href="../../css/icons-extra.css" />
		<script src="../../libs/jquery.min.js"></script>
		<script src="../../assets/mui/js/mui.min.js"></script>
		<script src="../../libs/vue.min.js"></script>
		<script src="../../libs/bootstrap.min.js"></script>
		<script src="../../libs/layer/layer.js"></script>
		<script src="../../libs/rem.js"></script>
		<!--<script src="../../js/public.js"></script>-->
		<!-- <script src="../../js/main.js"></script> -->
		<script src="../../js/common.js"></script>

		<!-- <script src="../../js/safe/people.js"></script> -->
		<style>
			html,
        body {
            width: 100%;
            height: 100%;
        }

        * {
            margin: 0;
            padding: 0;
        }

        .my-header {
            height: 0.88rem;
            background-color: #51BFF7;
            color: #fff;
        }

        .my-header .mui-title {
            color: #FFF;
            font-size: 0.36rem;
        }

        .my-header a,
        .my-header h1 {
            line-height: 0.88rem;
        }

        .mui-bar-nav.mui-bar .mui-icon {
            padding: 0;
            margin: 0;
            color: #fff;
        }

        .apply {
            margin: 0 0.3rem;
            border-bottom: 1px solid #ccc;
            padding-top: 0.2rem;
            padding-bottom: 0.15rem;
            box-sizing: border-box;
        }

        .apply input {
            border: none;
            outline: none;
            color: rgba(51, 51, 51);
            font-size: 0.36rem;
            margin-top: 0.16rem;
            width: 100%;
            padding: 0px!important;
            margin-bottom: 0px;
        }

        .apply label {
            font-size: 0.24rem;
            color: rgb(148, 148, 148);

        }

        .apply label em {
            font-size: 0.24rem;
            color: rgb(255, 0, 0);
        }

        .image-item {
            float: left;
            position: relative;
            margin: 0 10px;

        }

        img {
            width: 100px;
            height: 100px;

        }

        video {
            width: 100px;
            height: 100px;

        }

        .image-close {
            position: absolute;
            display: inline-block;
            right: 0px;
            top: 0px;
            width: 20px;
            height: 20px;
            text-align: center;
            line-height: 20px;
            border-radius: 12px;
            background-color: #FF5053;
            color: #f3f3f3;
            border: solid 1px #FF5053;
            font-size: 9px;
            font-weight: 200;
            z-index: 999;
        }

        .video-close {
            position: absolute;
            display: inline-block;
            right: 0px;
            top: 0px;
            width: 20px;
            height: 20px;
            text-align: center;
            line-height: 20px;
            border-radius: 12px;
            background-color: #FF5053;
            color: #f3f3f3;
            border: solid 1px #FF5053;
            font-size: 9px;
            font-weight: 200;
            z-index: 999;
        }

        .video-item {
            float: left;
            position: relative;
            margin: 0 10px;
        }
        .mui-table-view:before {
            height: 0px;
        }
        .mui-table-view:after {
            height: 0px;
        }
        .addData{
            width:25%;
            display:inline-block;
            background-color:#51BFF7;
            padding:10px;
            color:#fff;
            text-align:center;
            border-radius:10px;
        }
        .upload{
            position: absolute;
            right: 0.20rem;
            top: 0.60rem;
            background-color:#51BFF7;
            padding:10px;
            color:#fff;
            text-align:center;
            border-radius:10px;
            width:25%;
        }
        #finish{
        	position:absoulte;
        	z-index: 999999999;
        }
    </style>
	</head>

	<body>
		<!-- 侧滑导航根容器 -->

		<div id="app">
			<div class="mui-off-canvas-wrap mui-draggable">
				<!-- 主页面容器 -->
				<!-- 主页面标题 -->
				<header class="mui-bar mui-bar-nav my-header">
					<a href="javascript:history.go(1)" class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
					<h1 class="mui-title">积分奖励申请</h1>
					<a class="mui-icon mui-pull-right" style="font-size:14px;" id="finish">保存</a>


					<!--<a href="javascript:;" class="mui-icon mui-pull-right" style="font-size:14px;">提交</a>-->

				</header>
				<div class="mui-content mui-scroll-wrapper" id="offCanvasContentScroll">

					<form>
						<div class="apply">

							<label><em>*</em>选择照片</label>
							<ul id="photos"></ul>
							<div id="video"></div>
							<a id="pick" href="#cropper-sheet">
								<img id="image" src="../../img/+@2x.png" style="width:100px;height:100px" />
							</a>
						</div>
						<!--<input type="file" @change="save()" multiple id="upgteimg"/>-->
						<!--<a href="javascript:;" style="font-size:28px;" id="finish">保存</a>-->
					</form>
				</div>
			</div>

			<!--选择照片-->
			<div id="cropper-sheet" class="mui-popover mui-popover-bottom mui-popover-action">
				<!-- 可选择菜单 -->
				<ul class="mui-table-view margin">
					<li class="mui-table-view-cell">
						<a id="paizhao" data-type="camera">拍照</a>
					</li>
					<li class="mui-table-view-cell">
						<a id="luxiang" data-type="video">录像</a>
					</li>
					<li class="mui-table-view-cell">
						<a id="xiangce" data-type="gallery">选取照片</a>
					</li>
					<li class="mui-table-view-cell">
						<a id="shipin" data-type="galleryVideos">选取视频</a>
					</li>
				</ul>
			</div>

		</div>

		<script src="../../js/mui.picker.min.js"></script>
		<script src="../../js/mui.poppicker.js"></script>
		<script src="../../assets/mui/js/mui.zoom.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../assets/mui/js/mui.previewimage.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" src="../../js/cropper.min.js"></script>
		<script type="text/javascript" src="../../js/getImgs.js"></script>

		<script>
			var vm = new Vue({
				el: "#app",
				methods: {
					save() {
						var files = document.getElementById("upgteimg").files;
						if (files.length != 0) {
							var formData = new FormData();
							for (var i = 0; i < files.length; i++) {
								var file = files[i];
								formData.append(file.name, file);
							}
						}
						$.ajax({
							type: "POST",
							url: "http://10.0.0.107:8080/app/foreign/uploadFiles" + "?uuidDept=" + 1111111 + "&uuidQua=" + 2222222 +
								"&moduleName=" + "user",
							cache: false,
							data: formData,
							processData: false,
							contentType: false,
							success: function(r) {

								alert(r.msg);
							}
						});
					},
				}

			})
			mui('#offCanvasSideScroll').scroll();
			mui('#offCanvasContentScroll').scroll();
			mui.init({
				swipeBack: true //启用右滑关闭功能  
			});
			mui.init();
			var address;
			mui.previewImage()
			mui.plusReady(function() {
				//上传图片
				createUploader();
			})
			mui('#cropper-sheet').on('tap', '.mui-table-view-cell > a', function() {
				// var type = this.getAttribute('data-type');
				mui("#cropper-sheet").popover('hide');
				switch (type) {
					case 'camera':
						clickCamera();
						break;
					case 'gallery':
						clickGallery();
						break;
					case 'video':
						clickVideo();
						break;
					case 'galleryVideos':
						galleryVideo();
					default:
						break;
				}
			})
		</script>
	</body>

</html>
